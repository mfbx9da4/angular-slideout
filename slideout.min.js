app.directive("slideout",["$document","$window","$timeout",function(e,o,s){var t=angular.element(document.createElement("div"));t.addClass("slideout-overlay"),e[0].body.appendChild(t[0]);var l=[];return{restrict:"A",scope:!1,link:function(o,d,i){var a=i.slideout;t.on("click",function(){o.$apply(function(){o[i.slideout]=!1})});var n=[];d.data("slideout_id",l.length),l.push(0);var r=i.slideoutDirection;"from-left"===r?d.addClass("slideout-from-left"):(r="from-right",d.addClass("slideout-from-right")),d.addClass("slideout"),d.addClass("slideout-closed");var u=function(){if(!d.data("is_animating")){var e=n.shift();e&&(f(e),s(function(){d.data("is_animating",!1),u(),"close"===e&&d.addClass("slideout-closed")},1e3*(i.slideout_duration||.5)))}},c=function(s){l[d.data("slideout_id")]=s;for(var i=0,a=0;a<l.length;a++){var n=l[a];i+=n}i?(o.slideout_open=!0,t.addClass("slideout-overlay-show"),e.find("body").addClass("slideout-prevent-scroll")):(o.slideout_open=!1,t.removeClass("slideout-overlay-show"),e.find("body").removeClass("slideout-prevent-scroll"))},f=function(e){"open"===e?(d.data("is_animating",!0),"from-right"===r?(d.addClass("slideLeft"),d.removeClass("slideRight")):"from-left"===r&&(d.removeClass("slideLeft"),d.addClass("slideRight")),d.addClass("slideout-open"),d.removeClass("slideout-closed"),c(1)):"close"===e&&(d.data("is_animating",!0),"from-right"===r?(d.removeClass("slideLeft"),d.addClass("slideRight")):"from-left"===r&&(d.addClass("slideLeft"),d.removeClass("slideRight")),d.removeClass("slideout-open"),c(0))},v=function(e){n.push(e),u()};o.$eval(a)&&v("close"),o.$watch(a,function(e,s){("object"==typeof o[i.slideout]||"function"==typeof o[i.slideout])&&(console.error("Slideout value should not be a function or object"),console.log("Slideout value should not be a function or object")),e!==s&&v(e?"open":"close")})}}}]);